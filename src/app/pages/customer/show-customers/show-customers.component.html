@if(showEditDiv){
<div id="customer-edit-area">
  <a
    routerLink="#"
    class="btn btn-primary btn-sm"
    (click)="cancelEditCustomer()"
    >Cancel Edit</a
  >
  <div id="customer-edit-form-area">
    <!-- form start -->
    <form [formGroup]="customerForm" (ngSubmit)="updateCustomer()">
      <div class="form-group">
        <label for="customerName">Name</label>
        <input
          type="text"
          id="customerName"
          formControlName="customerName"
          class="form-control"
        />
      </div>
      <div class="form-group">
        <label for="customerCategoryId">Category</label>
        <select
          id="customerCategoryId"
          formControlName="customerCategoryId"
          class="form-control"
        >
          @for (category of customerCategories; track category.customerCategoryId) {
            <option [value]="category.customerCategoryId">
              {{ category.customerCategoryName }}
            </option>
          }
        </select>
      </div>
      <div class="form-group">
        <label for="address">Address</label>
        <input
          type="text"
          id="address"
          formControlName="address"
          class="form-control"
        />
      </div>
      <div class="form-group">
        <label for="email">Email</label>
        <input
          type="email"
          id="email"
          formControlName="email"
          class="form-control"
        />
      </div>
      <div class="form-group">
        <label for="phone">Phone</label>
        <input
          type="text"
          id="phone"
          formControlName="phone"
          class="form-control"
        />
      </div>
      <div class="form-group">
        <label for="whatsapp">Whatsapp</label>
        <input
          type="text"
          id="whatsapp"
          formControlName="whatsapp"
          class="form-control"
        />
      </div>
      <button type="submit" class="btn btn-primary">Save</button>
    </form>
    <!-- form end -->

  </div>
</div>
}
<div class="table-responsive mt-4">
  <h1>All Customers:</h1>
  <table
    class="table table-bordered table-striped table-hover text-white bg-dark"
  >
    <thead class="table-light text-dark">
      <tr>
        <th>SL</th>
        <th>Name</th>
        <th>customerCategoryName</th>
        <th>Address</th>
        <th>Email</th>
        <th>Phone</th>
        <th>Whatsapp</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let customer of customers; let i = index">
        <td>{{ i + 1 }}</td>
        @if(customer.status?.active){
        <td style="color: green">{{ customer.customerName }}</td>
        } @else {
        <td style="color: red">{{ customer.customerName }}</td>
        }
        <td>{{ customer.category?.customerCategoryName }}</td>
        <td>{{ customer.contact?.address }}</td>
        <td>{{ customer.contact?.email }}</td>
        <td>{{ customer.contact?.phone }}</td>
        @if(!customer.contact?.whatsapp){
        <td>?</td>
        }@else{
        <td>{{ customer.contact?.whatsapp }}</td>
        }
        <td>
          <a routerLink="#" (click)="editCustomer(customer)" class="edit-btn">
            <mat-icon matPrefix>edit</mat-icon>
          </a>
        </td>
      </tr>
    </tbody>
  </table>
</div>

@if (isDevMode) {
<button
  type="button"
  class="btn-primary"
  (click)="isDevAreaVisible = !isDevAreaVisible"
>
  @if(isDevAreaVisible) { Hide Dev Area } @else { Show Dev Area }
</button>
<div class="d-flex flex-row" *ngIf="isDevAreaVisible">
  <div class="p-2">
    <pre>
      customers: {{ customers | json }}
    </pre>
  </div>
  <div class="p-2">
    <pre>
      customerForm: {{ customerForm.value | json }}
    </pre>
  </div>
  <div class="p-2">
    <pre>
      customerCategories: {{ customerCategories | json }}
    </pre>
  </div>
</div>
}
